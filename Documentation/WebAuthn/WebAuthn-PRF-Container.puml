@startuml WebAuthn_PRF_Container_View
!include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Container.puml

title WebAuthn PRF Encryption System - Container View

Person(user, "User", "Person with biometric device")

System_Boundary(browser, "Web Browser") {
    Container(webapp, "Clypse Portal", "JavaScript SPA", "Frontend web application handling encryption/decryption")
    Container(webauthn_api, "WebAuthn API", "Browser Native API", "Handles credential creation and authentication with PRF extension")
    Container(crypto_api, "Web Crypto API", "Browser Native API", "HKDF key derivation and AES-GCM encryption/decryption")
    Container(storage, "Local Storage", "Browser Storage", "Stores credential IDs for reuse")
}

System_Ext(platform_auth, "Platform Authenticator", "Samsung Pass, Face ID, Windows Hello")

Rel(user, webapp, "encrypt(data) / decrypt(data)", "UI interaction")
Rel(webapp, webauthn_api, "navigator.credentials.create() / get()", "JavaScript calls with PRF extension")
Rel(webapp, crypto_api, "HKDF + AES-GCM operations", "Derive keys and encrypt/decrypt")
Rel(webapp, storage, "Store/retrieve credential IDs", "localStorage")

Rel(webauthn_api, platform_auth, "Biometric authentication + PRF", "Platform security APIs")
Rel(platform_auth, user, "Biometric prompt", "Hardware sensors")

SHOW_LEGEND()
@enduml
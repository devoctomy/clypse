@page "/"
@page "/home"
@layout HomeLayout

<PageTitle>Clypse Portal - Home</PageTitle>

@if (currentPage == "vaults")
{
    <Vaults @ref="vaultsComponent" OnVaultUnlocked="HandleVaultUnlocked" />
}
else if (currentPage == "credentials")
{
    <Credentials @ref="credentialsComponent" CurrentVault="@currentVault" CurrentVaultKey="@currentVaultKey" LoadedVault="@loadedVault" VaultManager="@vaultManager" OnLockVault="HandleLockVault" OnVaultUpdated="HandleVaultUpdated" />
}
else if (currentPage == "create-vault")
{
    <CreateVault OnCreateVault="HandleCreateVault" OnCancel="HandleCancelCreateVault" />
}

<VerifyDialog Show="showVerifyDialog" Results="verifyResults" OnClose="() => { showVerifyDialog = false; verifyResults = null; }" />
<VaultDeleteConfirmDialog Show="showDeleteVaultDialog" 
                          VaultToDelete="vaultToDelete" 
                          IsDeleting="isDeletingVault"
                          ErrorMessage="@deleteVaultErrorMessage"
                          OnConfirm="HandleDeleteVaultConfirm" 
                          OnCancel="CancelDeleteVault" />

